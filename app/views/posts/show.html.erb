<p style="color: green"><%= notice %></p>

<%= render @post %>

<div>
  <hr>
  <h3>Comments</h3>
  <%# Display all comments for this post %>
  <% @post.comments.each do |comment| %>
    <p>
      <strong><%= comment.author %>:</strong>
      <%= comment.body %>
    </p>
  <% end %>

  <hr>

  <h3>Add a comment:</h3>
  <%# The form to create a new comment %>
  <%= form_with(model: [ @post, @post.comments.build ], local: true) do |form| %>
    <p>
      <%= form.label :author %><br>
      <%= form.text_field :author %>
    </p>
    <p>
      <%= form.label :body %><br>
      <%= form.text_area :body %>
    </p>
    <p>
      <%= form.submit %>
    </p>
  <% end %>

  <%= link_to "Edit this post", edit_post_path(@post) %> |
  <%= link_to "Back to posts", posts_path %>

  <%= button_to "Destroy this post", @post, method: :delete %>
</div>

